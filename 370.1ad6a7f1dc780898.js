"use strict";(self.webpackChunkAngular_Demo=self.webpackChunkAngular_Demo||[]).push([[370],{6370:(B,v,s)=>{s.r(v),s.d(v,{DashboardModule:()=>U});var m=s(9808),u=s(9291);function k(n,a,e,o,i,r,c){try{var l=n[r](c),h=l.value}catch(Y){return void e(Y)}l.done?a(h):Promise.resolve(h).then(o,i)}function g(n){return function(){var a=this,e=arguments;return new Promise(function(o,i){var r=n.apply(a,e);function c(h){k(r,o,i,c,l,"next",h)}function l(h){k(r,o,i,c,l,"throw",h)}c(void 0)})}}var _=s(5698),x=s(8865),y=s(6961),f=s(1530),t=s(5e3),T=s(8534),S=s(5620),Z=s(7261),M=s(7579),D=s(9300),A=s(8372),p=s(7322),E=s(7531),d=s(3075),L=s(5245);function b(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",2),t.TgZ(1,"mat-form-field",3),t.TgZ(2,"mat-label"),t._uU(3,"Search Pokeman by fullname (Api call)"),t.qZA(),t.TgZ(4,"input",4),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().searchkey=i})("ngModelChange",function(i){return t.CHM(e),t.oxw().userQuestionUpdate.next(i)}),t.qZA(),t.TgZ(5,"mat-icon",5),t.NdJ("click",function(){return t.CHM(e),t.oxw().clearSearch()}),t._uU(6,"close"),t.qZA(),t.TgZ(7,"mat-hint"),t._uU(8,"Enter more than 3 characters"),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngModel",e.searchkey)}}function I(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",2),t.TgZ(1,"mat-form-field",3),t.TgZ(2,"mat-label"),t._uU(3,"Search within listed result"),t.qZA(),t.TgZ(4,"input",6),t.NdJ("ngModelChange",function(i){return t.CHM(e),t.oxw().filterkey=i})("keyup",function(){t.CHM(e);const i=t.oxw();return i.applyfilter(i.filterkey)}),t.qZA(),t.TgZ(5,"mat-icon",7),t._uU(6,"search"),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngModel",e.filterkey)}}let w=(()=>{class n{constructor(){this.onclickEventSearch=new t.vpe,this.onclickEventFilter=new t.vpe,this.onclickEventClear=new t.vpe,this.userQuestionUpdate=new M.x,this.subscription=this.userQuestionUpdate.pipe((0,D.h)(e=>e.length>3),(0,A.b)(2e3)).subscribe(e=>{this.searchkey=e,this.onclickEventSearch.emit(this.searchkey)})}ngOnInit(){}applyfilter(e){this.onclickEventFilter.emit(e)}clearSearch(){this.searchkey="",this.onclickEventClear.emit()}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-search"]],outputs:{onclickEventSearch:"onclickEventSearch",onclickEventFilter:"onclickEventFilter",onclickEventClear:"onclickEventClear"},decls:3,vars:2,consts:[[1,"row","pt-2","pb-1"],["class","col-md-6",4,"ngIf"],[1,"col-md-6"],["appearance","outline"],["matInput","",3,"ngModel","ngModelChange"],["matSuffix","",3,"click"],["matInput","",3,"ngModel","ngModelChange","keyup"],["matSuffix",""]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.YNc(1,b,9,1,"div",1),t.YNc(2,I,7,1,"div",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",!o.filterkey),t.xp6(1),t.Q6J("ngIf",!o.searchkey))},directives:[m.O5,p.KE,p.hX,E.Nt,d.Fj,d.JJ,d.On,L.Hw,p.R9,p.bx],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}mat-icon[_ngcontent-%COMP%]{cursor:pointer}.row[_ngcontent-%COMP%]{background-color:#fff}mat-hint[_ngcontent-%COMP%]{color:red}"]}),n})();var C=s(2391),J=s(3892);function P(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",3),t.TgZ(1,"div",7),t.TgZ(2,"mat-paginator",8),t.NdJ("page",function(i){return t.CHM(e),t.oxw(2).getServerData(i)}),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("length",e.length)("pageIndex",e.pageIndex)("pageSize",e.pageSize)("pageSizeOptions",e.pageSizeOptions)}}function F(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",2),t.TgZ(1,"div",3),t.TgZ(2,"app-search",4),t.NdJ("onclickEventSearch",function(i){return t.CHM(e),t.oxw().applySearch(i)})("onclickEventClear",function(){return t.CHM(e),t.oxw().clearSearch()})("onclickEventFilter",function(i){return t.CHM(e),t.oxw().applyfilter(i)}),t.qZA(),t.qZA(),t.TgZ(3,"lib-pokemon-card",5),t.NdJ("onclickEventredirect",function(i){return t.CHM(e),t.oxw().redirecttoDetailPage(i)})("onclickEventfirsticon",function(i){return t.CHM(e),t.oxw().addtoWishlist(i)}),t.qZA(),t.YNc(4,P,3,4,"div",6),t.qZA()}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("filterkey",e.filterkey)("dataList",e.pokemonList)("addedToWishlist",e.color),t.xp6(1),t.Q6J("ngIf",e.length>10&&!e.filterkey)}}function O(n,a){1&n&&(t.TgZ(0,"h2",11),t._uU(1,"Loading!!!"),t.qZA())}function z(n,a){if(1&n&&(t.TgZ(0,"div",11),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(e.errorMessage)}}function N(n,a){if(1&n&&(t.TgZ(0,"div",9),t.YNc(1,O,2,0,"h2",10),t.YNc(2,z,2,1,"div",10),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.errorMessage),t.xp6(1),t.Q6J("ngIf",e.errorMessage)}}const Q=[{path:"",component:(()=>{class n{constructor(e,o,i,r){this.router=e,this.dataService=o,this.store=i,this._snackBar=r,this.pokemonList=[],this.color="#d3c9c9",this.result=[],this.pokemonSearchResult=[],this.pokemonGetAllResult=[],this.pokemonListLength=0,this.offset=0,this.pageSize=10,this.pageSizeOptions=[10,20,50,100],this.pokemonWishList$=this.store.select(f.jq)}ngOnInit(){this.getPokemonList()}getPokemonList(e=10,o=0){this.dataService.getPokeApiList(e,o).subscribe(i=>{i.results.map(r=>new x.WC(r.name,r.url)),i.results.map(r=>{this.pokemonGetAllResult=[],this.result=[],this.pokemonGetAllResult=this.getPokemonInDetail(r.name),this.pokemonList=this.pokemonGetAllResult}),this.pokemonListLength=i.count,this.length=this.pokemonListLength})}applySearch(e){this.length=0,this.result=[],this.pokemonSearchResult=[],this.pokemonSearchResult=this.getPokemonInDetail(e),this.pokemonList=this.pokemonSearchResult}getPokemonInDetail(e){var o=this;return this.dataService.getPokeApiDetail(e).subscribe(function(){var i=g(function*(r){let c=yield o.pokemonWishList$.pipe((0,_.q)(1)).toPromise();c=c.some(l=>l.id===r.id),o.result.push(new x.XU(r.name,r.id,r.sprites,o.color=c?"deeppink":"#d3c9c9")),o.result=o.result.sort((l,h)=>l.id-h.id)});return function(r){return i.apply(this,arguments)}}(),i=>{this.pokemonList=[],this.length=0,this.errorMessage=`${i.error}: Please enter a valid name`,this.openSnackBar(i.error)}),this.openSnackBar("Data found Successfully!!!"),this.result}redirecttoDetailPage(e){this.router.navigate([`pokemon-detail-page/${e.id}`])}addtoWishlist(e){var o=this;return g(function*(){o.checkWishlistStore(e.id).then(i=>{o.store.dispatch((0,y.m)({name:e.name,id:e.id,sprites:e.sprites})),o.checkWishlistStore(e.id).then(r=>{o.pokemonList.forEach(c=>{c.id===r.id&&(c.color="deeppink")})}),o._snackBar.open("Successfully added to wishlist","close",{duration:2500})})})()}checkWishlistStore(e){var o=this;return g(function*(){let i=yield o.pokemonWishList$.pipe((0,_.q)(1)).toPromise();return i=i.filter(r=>r.id==e),i[0]})()}getServerData(e){this.pageIndex=null==e?void 0:e.pageIndex,this.pageSize=null==e?void 0:e.pageSize,this.offset=(null==e?void 0:e.pageIndex)*this.pageSize,this.result=[],this.pokemonList=[],this.getPokemonList(this.pageSize,this.offset)}applyfilter(e){this.filterkey=e}clearSearch(){this.length=this.pokemonListLength,this.pokemonSearchResult=[],this.filterkey="",this.pokemonList=this.pokemonGetAllResult}openSnackBar(e){this._snackBar.open(e,"close",{duration:2500})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.F0),t.Y36(T.D),t.Y36(S.yh),t.Y36(Z.ux))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-dashboard"]],decls:2,vars:2,consts:[["class","container-fluid",4,"ngIf"],["class","row card shadow p-3 m-3",4,"ngIf"],[1,"container-fluid"],[1,"row"],[3,"onclickEventSearch","onclickEventClear","onclickEventFilter"],[3,"filterkey","dataList","addedToWishlist","onclickEventredirect","onclickEventfirsticon"],["class","row",4,"ngIf"],[1,"card","shadow","col-md-12","p-0","mt-3"],[3,"length","pageIndex","pageSize","pageSizeOptions","page"],[1,"row","card","shadow","p-3","m-3"],["class","m-0",4,"ngIf"],[1,"m-0"]],template:function(e,o){1&e&&(t.YNc(0,F,5,4,"div",0),t.YNc(1,N,3,2,"div",1)),2&e&&(t.Q6J("ngIf",o.pokemonList),t.xp6(1),t.Q6J("ngIf",!o.pokemonList||0==(null==o.pokemonList?null:o.pokemonList.length)))},directives:[m.O5,w,C.U,J.NW],styles:[""]}),n})()}];let R=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[u.Bz.forChild(Q)],u.Bz]}),n})();var W=s(5580),H=s(7872);let U=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[],imports:[[m.ez,d.u5,W.q,R,C.F,H.O,S.Aw.forFeature(f.o5,f.fu)]]}),n})()}}]);